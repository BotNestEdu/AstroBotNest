---
import HeaderLink from './HeaderLink.astro';
import SocialButtons from './SocialButtons.astro';
import { SITE_TITLE } from '../consts';
---

<header class="py-6 shadow-sm relative">
  <div class="header-wrapper flex flex-col items-center justify-center text-center gap-4">
    <img
      src="/img/logo-botnest.png"
      alt="BotNest Project"
      class="h-20 md:h-24 lg:h-28 w-auto mx-auto logo"
    />

    <!-- BotÃ³n hamburguesa (solo en mÃ³vil) -->
	  <button id="menu-toggle" class="hamburger" aria-label="Abrir menÃº">
	    â˜°
	  </button>

    <!-- MenÃº principal -->
    <nav id="main-menu" class="main-nav">
    <div class="menu-links">
      <HeaderLink href="/">Inicio</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
      <HeaderLink href="/herramientas">Herramientas</HeaderLink>
      <HeaderLink href="/about">Acerca de</HeaderLink>
    </div>
    </nav>

    <button id="theme-toggle" class="theme-toggle" aria-label="Cambiar modo">
      ðŸŒ™
    </button>


    <SocialButtons class="mt-2 text-gray-700 justify-center gap-4 hidden md:flex" />
  </div>
</header>

<!-- Script para toggle -->
<script>
  if (typeof window !== 'undefined') {
    window.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById('menu-toggle');
      const menu = document.getElementById('main-menu');
      toggle.addEventListener('click', () => {
        menu.classList.toggle('open');
      });

      const themeBtn = document.getElementById('theme-toggle');
      const root = document.documentElement;
      const stored = localStorage.getItem('theme');
      if (stored === 'dark') {
        root.dataset.theme = 'dark';
        themeBtn.textContent = 'â˜€';
      }

      themeBtn.addEventListener('click', () => {
        const isDark = root.dataset.theme === 'dark';
        root.dataset.theme = isDark ? 'light' : 'dark';
        localStorage.setItem('theme', root.dataset.theme);
        themeBtn.textContent = isDark ? 'ðŸŒ™' : 'â˜€';
      });
    });
  }
</script>


<style>
        header {
                margin: 0;
                padding: 0 1em;
                background: var(--bg-element);
                box-shadow: 0 2px 8px rgba(var(--black), 5%);
        }
	h2 {
		margin: 0;
		font-size: 1em;
	}
	h2 a,
	h2 a.active {
		text-decoration: none;
	}
        nav a {
                padding: 1em 0.5em;
                color: var(--heading-color);
                border-bottom: 4px solid transparent;
                text-decoration: none;
        }
	nav a.active {
		border-bottom-color: var(--accent);
	}
	/* Mostrar hamburguesa solo en mÃ³vil */
.hamburger {
  display: none;
  font-size: 1.8rem;
  background: none;
  border: none;
  cursor: pointer;
  margin-top: 0.5rem;
}

/* MenÃº por defecto en horizontal */
.main-nav .menu-links {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1.5rem;
}

/* MÃ³vil: ocultar menÃº y cambiar a vertical */
@media (max-width: 768px) {
  .hamburger {
    display: block;
  }

  .main-nav {
    width: 100%;
  }

  .main-nav .menu-links {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    margin-top: 1rem;
  }

  .main-nav.open .menu-links {
    display: flex;
  }
}

.theme-toggle {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.5rem;
  margin-top: 0.5rem;
}


</style>
