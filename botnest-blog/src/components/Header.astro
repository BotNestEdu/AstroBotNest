---
import HeaderLink from './HeaderLink.astro';
import SocialButtons from './SocialButtons.astro';
import { SITE_TITLE } from '../consts';
---

<header class="py-6 bg-white shadow-sm relative">
  <div class="header-wrapper flex flex-col items-center justify-center text-center gap-4">
    <img
      src="/img/logo-botnest.png"
      alt="BotNest Project"
      class="h-20 md:h-24 lg:h-28 w-auto mx-auto logo"
    />

    <!-- Botón hamburguesa (solo visible en móvil) -->
    <button id="menu-toggle" class="md:hidden text-3xl mt-2" aria-label="Abrir menú">
      ☰
    </button>

    <!-- Menú de navegación -->
    <nav id="main-menu" class="flex flex-col md:flex-row items-center gap-2 md:gap-6 md:static absolute top-28 left-1/2 -translate-x-1/2 bg-white shadow-md p-4 rounded-md md:shadow-none md:p-0 md:bg-transparent md:translate-x-0 z-50 hidden md:flex">
      <HeaderLink href="/">Inicio</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
      <HeaderLink href="/herramientas">Herramientas</HeaderLink>
      <HeaderLink href="/about">Acerca de</HeaderLink>
    </nav>

    <SocialButtons class="mt-2 text-gray-700 justify-center gap-4 hidden md:flex" />
  </div>
</header>

<!-- Script para toggle -->
<script>
  if (typeof window !== 'undefined') {
    window.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById('menu-toggle');
      const menu = document.getElementById('main-menu');
      toggle.addEventListener('click', () => {
        menu.classList.toggle('hidden');
      });
    });
  }
</script>

<style>
	header {
		margin: 0;
		padding: 0 1em;
		background: white;
		box-shadow: 0 2px 8px rgba(var(--black), 5%);
	}
	h2 {
		margin: 0;
		font-size: 1em;
	}
	h2 a,
	h2 a.active {
		text-decoration: none;
	}
	nav a {
		padding: 1em 0.5em;
		color: var(--black);
		border-bottom: 4px solid transparent;
		text-decoration: none;
	}
	nav a.active {
		border-bottom-color: var(--accent);
	}
</style>
